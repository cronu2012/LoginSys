<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css}" rel="stylesheet"
          integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js}"
            integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
            crossorigin="anonymous"></script>
    <link th:href="@{/css/style.css}" rel="stylesheet">
    <style>
        .button > * {
            margin: auto 5px;
        }
    </style>


    <title>首頁</title>
</head>
<body>
<div class="main">
    <article class="block">
        <div>
            <h3>搜尋會員</h3>
        </div>
        <div class="form-floating mb-3">

            <input name="email" type="text" class="form-control" id="floatingEmail" placeholder="name@example.com">
            <label for="floatingEmail" th:text="#{index.member.email}"></label>
        </div>
        <div class="form-floating mb-3">
            <input name="name" type="text" class="form-control" id="floatingName" placeholder="name@example.com">
            <label for="floatingName" th:text="#{index.member.name}"></label>
        </div>
        <div class="button">
            <button id="submit" type="button" class="btn btn-primary" th:text="#{index.member.search}"></button>
            <button id="clear" type="button" class="btn btn-primary" th:text="#{login.clear}"></button>
        </div>


    </article>
</div>
<script>
    const url_all = 'http://localhost:8080/index/members';

    const email = document.getElementById("floatingEmail").value;
    const name = document.getElementById("floatingName").value;
    const submit = document.getElementById("submit");

    function getAll() {
        fetch(url_all).then((response) => {
            return response.json();
        }).then((data) => {
            console.log(data);
        }).catch((error) => {
            console.log(error);
        })
    }

    submit.addEventListener('click', function (e) {
        if (email === '' && name === '') {
            getAll();
        } else {

        }
    }, false);


</script>
</body>
</html>